<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Глава 2. Выборка jQuery</title>

    <link rel="stylesheet" type="text/css" href="../styles/styles.css">
    <link rel="stylesheet" href="../modules/vs2015.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../modules/jquery-3.7.1.min.js"><'+'/script>')</script>

    <script src="../common/counters_head.js"></script>


</head>


<body>
<script src="../common/counters_body.js"></script>
<!--TODO: ADD LEFT SLIDER-->
<h1>Глава 2. Выборка jQuery</h1>
<h2>Базовые правила</h2>
<p>В JS есть собственный API для работы с элементами DOM с таким функциями как <span class="code">getElementById()</span> и <span class="code">getElementsByClassName()</span>, предназначенных для работы с определенным типом селектора. Однако эти функции поддерживаются не всеми браузерами. В этом случае jQuery приходит на помощь, т.к. эта библиотека использует использует нативный метод, если он поддерживается браузером и свой, если нет. Поэтому с jQuery не приходится надеяться на поддержку со стороны браузеров. </p>
<p>Более того, между селекторами jQuery и селекторами CSS3 нет никаких несовместимостей. </p>
<p>Элементы в коллекции jQuery будут храниться в том порядке, в котором они появляются в дереве DOM.</p>
<table>
    <tr>
        <th>Пример</th>
        <td>Описание</td>
        <td>Аналог в JS</td>
        <td>Есть в CSS</td>
    </tr>
    <tr>
        <th><span class="code">*</span></th>
        <td>Все элементы на странице</td>
        <td><span class="code">getElementsByTagName("*")</span></td>
        <td>Да</td>
    </tr>
    <tr>
        <th><span class="code">#special-id</span></th>
        <td>Элемент со значением ID special-id</td>
        <td><span class="code">getElementsById("special-id")</span></td>
        <td>Да</td>
    </tr>
    <tr>
        <th><span class="code">.special-class</span></th>
        <td>Элемент с классом special-class</td>
        <td><span class="code">getElementsByClassName('special-class')</span></td>
        <td>Да</td>
    </tr>
    <tr>
        <th><span class="code">a</span></th>
        <td>Все элементы ссылок (a)</td>
        <td><span class="code">getElementsByTagName("a")</span></td>
        <td>Да</td>
    </tr>
    <tr>
        <th><span class="code">a.special-class</span></th>
        <td>Все элементы ссылок (a), у которых есть класс special-class </td>
        <td></td>
        <td>Да</td>
    </tr>
    <tr>
        <th><span class="code">.class.special-class</span></th>
        <td>Все элементы с классом class и классом special-class</td>
        <td></td>
        <td>Да</td>
    </tr>
    <tr>
        <th><span class="code">type1, class2</span></th>
        <td>Все элементы селектированные type1 и все элементы селектированные и class2</td>
        <td></td>
        <td>Да</td>
    </tr>
</table>
<!--todo: вписать текст в tip-->
<p>Настоятельно не рекомендуется предворять селектор ID селектором типа, т.к. jQuery будет, как правило, искать элемент, опираясь на свои менее эффективные методы, разыскивая сначала все элементы с данным типом. </p>
<p>Коллекция jQuery - это множество без повторов, так что все совпадающие элементы будут объединены в один. </p>

<h3>Пример: селекторы элементов</h3>
<p>Отыщем и разместим в таблице первые 5 элементов <span class="code">head</span>:</p>
<pre><code class="language-html">&lt;script>
    let body_tags=jQuery('head *');
    let ex1=jQuery('#ex1 ol');
    for (let i=0; i&lt;5; i++){
        ex1.append("&lt;li>"+"&lt;span class=\"code\">"+body_tags[i].outerHTML.replace('&lt;','&lt;')+"&lt;/span>"+"&lt;/li>")
    }
&lt;/script></code></pre>
<div class="code-example-output" id="ex1">
    <ol></ol>
</div>

<p>Применим к <a href="#ex1">таблице выше</a> CSS-стили:</p>
<pre><code class="language-js">jQuery('#ex1 ol').css('border','2px dotted black')</code></pre>


<h2>Селекторы по иерархии</h2>
<table>
    <tr>
        <th>Пример</th>
        <td>Описание</td>
        <td>Есть в CSS</td>
    </tr>
    <tr>
        <th><span class="code">E F</span></th>
        <td>Все элементы F, которые входят в тег E</td>
        <td>Да</td>
    </tr>
    <tr>
        <th><span class="code">E&gt;F</span></th>
        <td>Все элементы с F, которые являются прямыми потомками F</td>
        <td>Да</td>
    </tr>
    <tr>
        <th><span class="code">E+F</span></th>
        <td>Все элементы F, непосредственно перед которыми на этом же уровне идут E</td>
        <td>Да</td>
    </tr>
    <tr>
        <th><span class="code">E~F</span></th>
        <td>Все элементы F, которым на том же уровне предшествует E</td>
        <td>Да</td>
    </tr>
</table>

<h3>Пример: поиск всех сестринских элементов</h3>
<p>Мы можем искать элементы, указав элементом уровень поиска, т.е., другими словами, искать сестринские элементы:</p>
<pre><code class="language-html">&lt;script>
    // для начала облегчим себе жизнь, написав функцию, которая
    //принимает в качестве аргумента id списка на странице, а
    //затем размещает в нем первые n элементов массива из
    //jquery-запроса
    function ol_writer(ol_id, query, n=5){
        ol_id=jQuery(ol_id)
        query=jQuery(query)
        for (let i=0; i&lt;n; i++){
            ol_id.append('&lt;li>'+query.eq(i).html().replace('<','&lt;')+"&lt;/li>")
        }
    }
    ol_writer('#ex3', '#ex3 ~ *', 3)
&lt;/script></code></pre>
<ol class="code-example-output" id="ex3"></ol>


<h2>Селекторы атрибутов</h2>
<table>
    <tr>
        <th>Пример</th>
        <td>Описание</td>
        <td>Есть в CSS</td>
    </tr>
    <tr>
        <th><span class="code">E[A]</span></th>
        <td>Все элементы E, у которых есть атрибут A</td>
        <td>Да</td>
    </tr>
    <tr>
        <th><span class="code">E[A=&#39;V&#39;]</span></th>
        <td>Все элементы E, у которых есть атрибут A  равный V</td>
        <td>Да</td>
    </tr>
    <tr>
        <th><span class="code">E[A^=&#39;V&#39;]</span></th>
        <td>Все элементы E, у которых есть атрибут A начинающийся на V</td>
        <td>Да</td>
    </tr>
    <tr>
        <th><span class="code">E[A$=&#39;V&#39;]</span></th>
        <td>Все элементы E, у которых есть атрибут A заканчивающийся на V</td>
        <td>Да</td>
    </tr>
    <tr>
        <th><span class="code">E[A!=&#39;V&#39;]</span></th>
        <td>Все элементы E, у которых есть атрибут A не равный V, а также все элементы Е, не имеющие атрибута A</td>
        <td>Нет</td>
    </tr>
    <tr>
        <th><span class="code">E[A*=&#39;V&#39;]</span></th>
        <td>Все элементы E, у которых есть атрибут A, чье значение содержит V</td>
        <td>Да</td>
    </tr>
    <tr>
        <th><span class="code">E[A|=&#39;V&#39;]</span></th>
        <td>Все элементы E, у которых есть атрибут A, чье значение равно V или V-</td>
        <td>Да</td>
    </tr>
    <tr>
        <th><span class="code">E[A~=&#39;V&#39;]</span></th>
        <td>Все элементы E, у которых есть атрибут A, чье значение равно V или содержит V, разделенное пробелами</td>
        <td>Да</td>
    </tr>
    <tr>
        <th><span class="code">E[C1][C2]</span></th>
        <td>Все элементы E, у которых есть атрибуты, соответствующие критериям C1 И С2</td>
        <td>Да</td>
    </tr>
</table>
<!--todo: позже вписать в tip-->
<p>a[href^='http://'] - нахождение всех URL-ссылок на странице.
input[type='text']
a[href$='.pdf'] - сслыки с определенным форматом файла
    div[class|='main']
    span[data-technologies~="javascript"]
    input[type="text"][required]</p>

<h3>Пример: элементы, имеющие атрибут</h3>
<p>Найдем и запишем в список только элементы имеющие id:</p>
<pre><code class="language-html">&lt;script>
    jQuery('[id]').each(function(){
        jQuery('#ex4').append("&lt;li>"+$(this).attr('id')+"&lt;/li>")
    })
&lt;/script></code></pre>
<ol class="code-example-output" id="ex4"></ol>


<h3>Пример: элементы, имеющие атрибут равный некоторому значению</h3>
<p>Найдем все ссылки с якорем места в тексте. Для этого используем равенство типа "начинается с...":</p>
<pre><code >&lt;script>
    jQuery('a[href^="#"]').each(function(){
        jQuery('#ex5').append("&lt;li>"+$(this).attr('href')+"&lt;/li>")
    })
&lt;/script></code></pre>
<ol class="code-example-output" id="ex5"></ol>

<h2>Фильтры</h2>
<p>Фильтры - это селекторы, как правило, работающие с другими типами селектором, чтобы уменьшить набор совпавших элементов. Их обозначают двоеточием (<span class="code">:</span>).</p>
<h3>Фильтры позиции</h3>
<table>
    <tr>
        <th>Пример</th>
        <td>Описание</td>
        <td>Есть в CSS</td>
    </tr>
    <tr>
        <th><span class="code">:first</span></th>
        <td>Первое совпадение в пределах контекста. </td>
        <td>Нет</td>
    </tr>
    <tr>
        <th><span class="code">:last</span></th>
        <td>Последнее совпадение в пределах контекста.</td>
        <td>Нет</td>
    </tr>
    <tr>
        <th><span class="code">:even</span></th>
        <td>Четные элементы в пределах контекста.</td>
        <td>Нет</td>
    </tr>
    <tr>
        <th><span class="code">:odd</span></th>
        <td>Нечетные элементы в пределах контекста.</td>
        <td>Нет</td>
    </tr>
    <tr>
        <th><span class="code">:eq(n)</span></th>
        <td>n-ый элемент в пределах контекста.</td>
        <td>Нет</td>
    </tr>
    <tr>
        <th><span class="code">:gt(n)</span></th>
        <td>Все элементы после n-го в пределах контекста</td>
        <td>Нет</td>
    </tr>
    <tr>
        <th><span class="code">:lt(n)</span></th>
        <td>Все элементы до n-го в пределах контекста</td>
        <td>Нет</td>
    </tr>
</table>
<!--todo: tip-->
<p>Т.к. индесирование начинается с нуля, то парадоксально конечный результат фильтров :even и :odd будет противоположен ожидаемому.</p>
<p>Если передать отрицательный индекс :eq(), :gt(), :lt(), то элементы будут отфильтрованы начиная с последнего индекса</p>

<h4>Пример: следование элементов</h4>
<p>Найдем первые 5 первых параграфов, следующих непосредственно после заголовков:</p>
<pre><code class="language-html">&lt;script>
    let ex2=jQuery('#ex2')
    let p_after_header=jQuery(':header + p')
    for (let i=0; i&lt;5; i++){
        ex2.append("&lt;li>"+p_after_header[i].innerText+"&lt;/li>")
    }
&lt;/script></code></pre>
<div class="code-example-output"><ol id="ex2"></ol></div>
<h3>Фильтры-потомки</h3>


<h3>Фильтры форм</h3>
<ol>
    <li><span class="code">:input</span></li>
    <li><span class="code">:text</span> - инпут-строка типа text</li>
    <li><span class="code">:password</span> - инпут-строка типа password</li>
    <li><span class="code">:radio</span></li>
    <li><span class="code">:checkbox</span></li>
    <li><span class="code">:submit</span></li>
    <li><span class="code">:image</span></li>
    <li><span class="code">:reset</span></li>
    <li><span class="code">:button</span></li>
    <li><span class="code">:file</span></li>
</ol>

<h3>Доступность форм</h3>
<p>Запишем во все доступные для ввода элементы плейсхолдеры "Доступно" (наоборот для недоступных):</p>
<pre><code class="language-html">&lt;form>
    &lt;input type="text" />&lt;label>Имя&lt;/label>&lt;br />
    &lt;input type="text" />&lt;label>Фамилия&lt;/label>&lt;br />
    &lt;input type="text" disabled/>&lt;label>Серия паспорта&lt;/label>&lt;br />
    &lt;input type="text" disabled/>&lt;label>Номер паспорта&lt;/label>&lt;br />
    &lt;input type="text" />&lt;label>E-mail адрес&lt;/label>&lt;br />
&lt;/form>
&lt;script>
    $(function(){
        $("#ex6 input:disabled").attr('placeholder',"Не доступно");
        $("#ex6 input:enabled").attr('placeholder',"Доступно");
    });
&lt;/script></code></pre>
<form class="code-example-output" id="ex6">
    <input type="text" /><label>Имя</label><br />
    <input type="text" /><label>Фамилия</label><br />
    <input type="text" disabled/><label>Серия паспорта</label><br />
    <input type="text" disabled/><label>Номер паспорта</label><br />
    <input type="text" /><label>E-mail адрес</label><br />
</form>
<script>
    $(function(){
        $("#ex6 input:disabled").attr('placeholder',"Не доступно");
        $("#ex6 input:enabled").attr('placeholder',"Доступно");
    });
</script>

<h3>Отслеживание состояния элементов checkbox</h3>
<pre><code class="language-html">&lt;form id="ex7">
    &lt;div>&lt;/div>&lt;br/>
    &lt;input type="checkbox" checked data-years="7"/>&lt;label>Детский сад&lt;/label>&lt;br />
    &lt;input type="checkbox" data-years="4"/>&lt;label>Начальная школа&lt;/label>&lt;br />
    &lt;input type="checkbox" data-years="5"/>&lt;label>Средняя школа&lt;/label>&lt;br />
    &lt;input type="checkbox" data-years="2"/>&lt;label>Старшая школа&lt;/label>&lt;br />
    &lt;input type="checkbox" data-years="4"/>&lt;label>Бакалавриат&lt;/label>&lt;br />
    &lt;input type="checkbox" data-years="2"/>&lt;label>Магистратура&lt;/label>&lt;br/>
&lt;/form>
&lt;script>
    $(function(){
        function yearsEstimate() {
            let years=0;
            $("#ex7 input:checked").each(function(){
                years+=$(this).data('years')
            });
            $("div").text("Вероятный возраст — " + years);
        }
        yearsEstimate();
        $("#ex7").on('click', yearsEstimate);
    });
&lt;/script></code></pre>
<form class="code-example-output" id="ex7">
    <div></div><br/>
    <input type="checkbox" checked data-years="7"/><label>Детский сад</label><br />
    <input type="checkbox" data-years="4"/><label>Начальная школа</label><br />
    <input type="checkbox" data-years="5"/><label>Средняя школа</label><br />
    <input type="checkbox" data-years="2"/><label>Старшая школа</label><br />
    <input type="checkbox" data-years="4"/><label>Бакалавриат</label><br />
    <input type="checkbox" data-years="2"/><label>Магистратура</label><br/>
</form>
<script>
    $(function(){
        function yearsEstimate() {
            let years=0;
            $("#ex7 input:checked").each(function(){
                years+=$(this).data('years')
            });
            $("#ex7 div").text("Вероятный возраст — " + years);
        }
        yearsEstimate(); //вызов
        $("#ex7").on('click', yearsEstimate);
    });
</script>


<h3>Логические селекторы</h3>
<h4>Оператор <span class="code">:not</span></h4>



<h3>Удаление атрибутов</h3>
<p>Ранее в качестве примера приводилась форма с отключенными инпутами (<a href="#ex6">см. выше</a>). Напишем кноку, которая включает отключенные инпуты и отключает отключенные.</p>
<pre><code class="language-html">&lt;script>
    $('#ex8').on('click', function(){
        $('#ex6 input').each(function(){
            $(this).is(':disabled')? $(this).removeAttr('disabled'): $(this).attr('disabled', 'true')

        })
        $('#ex6 input:enabled:eq(0)').focus()
    })
&lt;/script></code></pre>
<button id="ex8">Поменять <span class="code">ex6</span></button>
<script>
    $('#ex8').on('click', function(){
        $('#ex6 input').each(function(){
            $(this).is(':disabled')? $(this).removeAttr('disabled'): $(this).attr('disabled', 'true')

        })
        $('#ex6 input:enabled:eq(0)').focus()
    })
</script>
<p>Как мы видим, плейсхолдеры при этом не меняются.</p>

<h3>Работа с классами</h3>
<p>Ниже приведен очень замороченный пример использования методов <span class="code">.addClass()</span>, <span class="code">.remoceClass()</span>, <span class="code">.toggleClass()</span>:</p>
<pre><code class="language-html">&lt;style>
    .ex9 {
        background-color:#369;
        color:#fff;
        border:1px dotted #ccc;
    }
&lt;/style>
&lt;div id="ex9">
    &lt;p>Параграф №1&lt;/p>
    &lt;p>Параграф №2&lt;/p>
    &lt;p>Параграф №3&lt;/p>
&lt;/div>
&lt;div id="ex9-output">Строка, выводящая совершенные дейсвтия&lt;/div>
&lt;input id="ex9-input" type="text" placeholder="Введите номер параграфа">
&lt;button id="ex9-add">Добавить класс &lt;span class="code">ex9&lt;/span>&lt;/button>
&lt;button id="ex9-remove">Удалить класс &lt;span class="code">ex9&lt;/span>&lt;/button>
&lt;button id="ex9-toggle">Переключить класс &lt;span class="code">ex9&lt;/span>&lt;/button>
&lt;button id="ex9-has">Проверить класс &lt;span class="code">ex9&lt;/span>&lt;/button>
&lt;script>
    function check_if_correct(){
        ex9_value=$('#ex9-input')
        if(ex9_value.val()==''){
            $('#ex9-output').html(`Введите номер параграфа в инпут`)
            $('#ex9-input').focus()
            return false
        }
        else if (ex9_value.val()!=1 && ex9_value.val()!=2 && ex9_value.val()!=3){
            $('#ex9-output').html(`Некорректное значение инпута`)
            $('#ex9-input').focus()
            return false}
        else return true}
    $('#ex9-add').on('click', function(){
        if(check_if_correct()){
            let inp_val=+($('#ex9-input').val())-1
            $(`#ex9 p:eq(${inp_val})`).addClass('ex9')
            $('#ex9-output').html(`Класс был добавлен в параграф ${inp_val+1}`)
        }})
    $('#ex9-remove').on('click', function(){
        if(check_if_correct()){
            let inp_val=+($('#ex9-input').val())-1
            $(`#ex9 p:eq(${inp_val})`).removeClass('ex9')
            $('#ex9-output').html(`Класс был удален из параграфа ${inp_val+1}`)
        }})
    $('#ex9-toggle').on('click', function(){
        if(check_if_correct()){
            let inp_val=+($('#ex9-input').val())-1
            $(`#ex9 p:eq(${inp_val})`).toggleClass('ex9')
            $('#ex9-output').html(`Класс был переключен в параграфе ${inp_val+1}`)
        }})
    $('#ex9-has').on('click', function(){
        if(check_if_correct()){
            let inp_val=+($('#ex9-input').val())-1
            if($(`#ex9 p:eq(${inp_val}).ex9`).length>0){
                $('#ex9-output').html(`Класс есть в параграфе ${inp_val+1}`)
            }
            else{
                $('#ex9-output').html(`Класса нет в параграфе ${inp_val+1}`)
            }}})

&lt;style></code></pre>
<style>
    .ex9 {
        background-color:#369; 
        color:#fff;
        border:1px dotted #ccc;
    }
</style>
<div class="code-example-output" id="ex9">
<p>Параграф №1</p>
<p>Параграф №2</p>
<p>Параграф №3</p>
</div>
<div id="ex9-output" style="color: #ddddff; background: black">Строка, выводящая совершенные действия</div>
<input id="ex9-input" type="text" placeholder="Введите номер параграфа">
<button id="ex9-add">Добавить класс <span class="code">ex9</span></button>
<button id="ex9-remove">Удалить класс <span class="code">ex9</span></button>
<button id="ex9-toggle">Переключить класс <span class="code">ex9</span></button>
<button id="ex9-has">Проверить класс <span class="code">ex9</span></button>
<script>
    function check_if_correct(){
        ex9_value=$('#ex9-input')
        if(ex9_value.val()==''){
            $('#ex9-output').html(`Введите номер параграфа в инпут`)
            $('#ex9-input').focus()
            return false
        }
        else if (ex9_value.val()!=1 && ex9_value.val()!=2 && ex9_value.val()!=3){
            $('#ex9-output').html(`Некорректное значение инпута`)
            $('#ex9-input').focus()
            return false}
        else return true}
    $('#ex9-add').on('click', function(){
        if(check_if_correct()){
            let inp_val=+($('#ex9-input').val())-1
            $(`#ex9 p:eq(${inp_val})`).addClass('ex9')
            $('#ex9-output').html(`Класс был добавлен в параграф ${inp_val+1}`)
        }})
    $('#ex9-remove').on('click', function(){
        if(check_if_correct()){
            let inp_val=+($('#ex9-input').val())-1
            $(`#ex9 p:eq(${inp_val})`).removeClass('ex9')
            $('#ex9-output').html(`Класс был удален из параграфа ${inp_val+1}`)
        }})
    $('#ex9-toggle').on('click', function(){
        if(check_if_correct()){
            let inp_val=+($('#ex9-input').val())-1
            $(`#ex9 p:eq(${inp_val})`).toggleClass('ex9')
            $('#ex9-output').html(`Класс был переключен в параграфе ${inp_val+1}`)
        }})
    $('#ex9-has').on('click', function(){
        if(check_if_correct()){
            let inp_val=+($('#ex9-input').val())-1
            if($(`#ex9 p:eq(${inp_val}).ex9`).length>0){
                $('#ex9-output').html(`Класс есть в параграфе ${inp_val+1}`)
            }
            else{
                $('#ex9-output').html(`Класса нет в параграфе ${inp_val+1}`)
            }}})
</script>

<h3>Работа с текстом и HTML</h3>
<p>Напишем скрипт, который выводит параграф html-документа с указанным индексом:</p>
<pre><code class="language-html">&lt;p>Введите индекс параграфа: &lt;input class="ex10" type="range" min=0 max=100 value="0"> &lt;span class="ex10">Пока ничего&lt;/span>&lt;/p>
&lt;p>&lt;b>Выберите метод вывода:&lt;/b>
    &lt;button class="ex10 html">&lt;span class="code">html()&lt;/span>&lt;/button>
    &lt;button class="ex10 text">&lt;span class="code">text()&lt;/span>&lt;/button>&lt;/p>
&lt;div class="ex10 output">&lt;span>&lt;b>Вывод:&lt;/b> &lt;/span>&lt;span>&lt;/span>&lt;/div>
&lt;script>
    //инпут ренджа
    jQuery('input.ex10[type="range"]').attr('max',jQuery('p').length-1)
    $(document).on('input', 'input.ex10[type="range"]', function(){
        $('span.ex10').html($(this).val())
    })
    //вывод по клику
    jQuery('.ex10.html').on('click', function(){
        let ex10= jQuery('input.ex10[type="range"]')
        jQuery('.ex10.output span:eq(1)').html($(`p:eq(${ex10.val()})`).html())
    })
    jQuery('.ex10.text').on('click', function(){
        let ex10= jQuery('input.ex10[type="range"]')
        jQuery('.ex10.output span:eq(1)').html($(`p:eq(${ex10.val()})`).text())
    })
&lt;/script></code></pre>
<div class="code-example-output">
<p>Введите индекс параграфа: <input class="ex10" type="range" min=0 max=100 value="0"> <span class="ex10">Пока ничего</span></p>
<p><b>Выберите метод вывода:</b>
<button class="ex10 html"><span class="code">html()</span></button>
<button class="ex10 text"><span class="code">text()</span></button></p>
<div class="ex10 output"><span><b>Вывод:</b> </span><span></span></div>
</div>
<script>
    //инпут ренджа
    jQuery('input.ex10[type="range"]').attr('max',jQuery('p').length-1)
    $(document).on('input', 'input.ex10[type="range"]', function(){
        $('span.ex10').html($(this).val())
    })
    //вывод по клику
    jQuery('.ex10.html').on('click', function(){
        let ex10= jQuery('input.ex10[type="range"]')
        jQuery('.ex10.output span:eq(1)').html($(`p:eq(${ex10.val()})`).html())
    })
    jQuery('.ex10.text').on('click', function(){
        let ex10= jQuery('input.ex10[type="range"]')
        jQuery('.ex10.output span:eq(1)').html($(`p:eq(${ex10.val()})`).text())
    })
</script>


<h3>Получение набора в инпут в текущем времени</h3>
<p>Для этих целей можно воспользоваться методом <span class="code">keyup()</span>. Это событие ввода, которое наступает всякий раз, когда в форму вводится текст:</p>
<pre><code class="language-html">&lt;p>&lt;input class="ex11" type="text" value="какой-то текст"/> &lt;span class="ex11" style="background: aqua; color: blueviolet">какой-то текст&lt;/span>&lt;/p>
&lt;script>
    $(function(){
        $('input.ex11').keyup(function(){
                let ex11_value=$(this).val()
                $('span.ex11').text(ex11_value)
            }
        )
    })
&lt;/script></code></pre>
<div class="code-example-output">
<p><input class="ex11" type="text" value="какой-то текст"/> <span class="ex11" style="background: aqua; color: blueviolet">какой-то текст</span></p></div>
<script>
    $(function(){
        $('input.ex11').keyup(function(){
            let ex11_value=$(this).val()
            $('span.ex11').text(ex11_value)
            }
        )
    })
</script>

<h3>Получение значения элементов <span class="code">radio</span>, <span class="code">checkbox</span> и <span class="code">select</span></h3>
<p>jQuery существенно упрощает работу с группами переключателей. Чтобы увидеть выигрыш от использования jQuery, достаточно сравнить 2 фрагмента кода, который вытягивает значение набора переключателей:</p>
<pre><code>//значение набора переключателей на чистом JS
var checkedValue;
var elements = document.getElementsByTagName('input');
for (var i = 0; i < elements.length; i++) {
    if (elements[i].type === 'radio' && elements[i].name === 'some-radio-group' && elements[i].checked) {
        checkedValue = elements[i].value;
        break;
        }
    }</code></pre>

<pre><code>//значение набора переключателей на jQuery
var checkedValue=jQuery('input:radio[name="some-radio-group"]:checked').val();
</code></pre>

<p>Если на конкретном примере, то это будет выглядеть следующим образом:</p>
<pre><code class="language-html">&lt;div>
    &lt;span>What is your answer?&lt;/span>
    &lt;label>
        &lt;input type="radio" name="some-radio-group" value="yes" checked="checked"/> Yes
    &lt;/label>
    &lt;label>
        &lt;input type="radio" name="some-radio-group" value="no"/> No
    &lt;/label>
    &lt;label>
        &lt;input type="radio" name="some-radio-group" value="maybe"/> Maybe
    &lt;/label>
    &lt;label>
        &lt;input type="radio" name="some-radio-group" value="I dunno"/> I dunno
    &lt;/label>
&lt;/div>
&lt;button id="which-button">Click me!&lt;/button>

&lt;p>The radio element with value &lt;span id="result">&lt;/span> is checked.&lt;/p>

&lt;script src="../js/jquery-1.11.3.min.js">&lt;/script>
&lt;script>
    jQuery('#which-button').click(function () {
        var checkedValue = jQuery('input:radio[name="some-radio-group"]:checked').val();
        jQuery('#result').text(checkedValue);
    }).click();
&lt;/script></code></pre>
<div style="border: black 1px solid; border-radius: 10px; padding: 20px">
<div>
    <span>Какой ваш ответ?</span>
    <label>
        <input class="ex13" type="radio" name="some-radio-group" value="да" checked="checked"/> Да
    </label>
    <label>
        <input class="ex13" type="radio" name="some-radio-group" value="нет"/> Нет
    </label>
    <label>
        <input class="ex13" type="radio" name="some-radio-group" value="навреное"/> Наверное
    </label>
    <label>
        <input class="ex13" type="radio" name="some-radio-group" value="не знаю"/> Я не знаю
    </label>
</div>
<button class="ex13 which-button">Кликни меня</button>
<p>Выбран радио-элемент <span class="ex13 result"></span>.</p>
</div>
<script>
    jQuery('.ex13.which-button').on('click', function () {
        var checkedValue = jQuery('input.ex13:radio[name="some-radio-group"]:checked').val();
        jQuery('.ex13.result').text(checkedValue);
    }).click();
</script>


<pre><code class="language-html">&lt;select class="ex12 single-option">
    &lt;option value="Сварить">Сварить&lt;/option>
    &lt;option value="Запечь">Запечь&lt;/option>
    &lt;option value="Отпарить">Отпарить&lt;/option>
    &lt;option value="Пожарить">Пожарить&lt;/option>
    &lt;option value="Закоптить">Закоптить&lt;/option>
&lt;/select>
&lt;select class="ex12 multiple-option" multiple="multiple">
    &lt;option value="Мясо" selected="selected">Мясо&lt;/option>
    &lt;option value="Овощи">Овощи&lt;/option>
    &lt;option value="Фрукты" selected="selected">Фрукты&lt;/option>
    &lt;option value="Зелень">Зелень&lt;/option>
&lt;/select>
&lt;br/>
&lt;input class="ex12 checkbox" type="checkbox" name="c" value="На скорую руку" checked="checked"
/>&lt;label>На скорую руку&lt;/label>&lt;br />
&lt;input class="ex12 radio" type="radio" name="r" value="По рецепту" />&lt;label>По рецепту&lt;/label>
&lt;input class="ex12 radio" type="radio" name="r" value="По памяти" />&lt;label>По памяти&lt;/label>
&lt;input class="ex12 radio" type="radio" name="r" value="Импровизируя" checked="checked"
/>&lt;label>Импровизируя&lt;/label>&lt;hr />
&lt;button id="ex12-getSingle">Выбрать &lt;b>метод готовки&lt;/b>&lt;/button>
&lt;button id="ex12-getMultiple">Выбрать &lt;b>ингридиенты&lt;/b>&lt;/button>
&lt;button id="ex12-getCheckbox">Аккуратно?&lt;/button>
&lt;button id="ex12-getRadio">Радио&lt;/button>
&lt;p>&lt;span class="ex12">&lt;/span>&lt;/p>
&lt;script>
    function cooking_method(){
        return $('.ex12.single-option').val().toLowerCase()
    }
    function cooking_ingridients() {
        let cooking_ingridients=$('.ex12.multiple-option').val();
        (cooking_ingridients.length==2)?cooking_ingridients=cooking_ingridients.join(' и '):cooking_ingridients=cooking_ingridients.join(', ');
        cooking_ingridients=cooking_ingridients.toLowerCase();
        return cooking_ingridients
    }
    function cooking_carefulness() {
        let cooking_carefulness=$('.ex12.checkbox:checked').val()
        if (cooking_carefulness==undefined){
            cooking_carefulness=''
        }
        else {
            cooking_carefulness=cooking_carefulness.toLowerCase()
        }
        return cooking_carefulness
    }
    function cooking_receipt(){
        return $('.ex12.radio:checked').val().toLowerCase()
    }
    function full_receipt() {
        return ["&lt;span style='background: antiquewhite'>"+cooking_method()+"&lt;/span>",
            "&lt;span style='background: gold'>"+cooking_ingridients()+"&lt;/span>",
            "&lt;span style='background: violet'>"+cooking_carefulness()+"&lt;/span>",
            "&lt;span style='background: lightskyblue'>"+cooking_receipt()+"&lt;/span>"].join(' ')
    }
    $(function(){
        $('span.ex12').html(full_receipt())
    })

    $('#ex12-getSingle').on('click', function(){
        $('span.ex12').html(full_receipt())
    })
    $('#ex12-getMultiple').on('click', function(){
        $('span.ex12').html(full_receipt())
    })
    $('#ex12-getCheckbox').on('click', function(){
        $('span.ex12').html(full_receipt())
    })
    $('#ex12-getRadio').on('click', function(){
        $('span.ex12').html(full_receipt())
    })
&lt;/script></code></pre>
<div class="code-example-output">
<select class="ex12 single-option">
    <option value="Сварить">Сварить</option>
    <option value="Запечь">Запечь</option>
    <option value="Отпарить">Отпарить</option>
    <option value="Пожарить">Пожарить</option>
    <option value="Закоптить">Закоптить</option>
</select>
<select class="ex12 multiple-option" multiple="multiple">
    <option value="Мясо" selected="selected">Мясо</option>
    <option value="Овощи">Овощи</option>
    <option value="Фрукты" selected="selected">Фрукты</option>
    <option value="Зелень">Зелень</option>
</select>
<br/>
<input class="ex12 checkbox" type="checkbox" name="c" value="На скорую руку" checked="checked"
/><label>На скорую руку</label><br />
<input class="ex12 radio" type="radio" name="r" value="По рецепту" /><label>По рецепту</label>
<input class="ex12 radio" type="radio" name="r" value="По памяти" /><label>По памяти</label>
<input class="ex12 radio" type="radio" name="r" value="Импровизируя" checked="checked"
/><label>Импровизируя</label><hr />
<button id="ex12-getSingle">Выбрать <b>метод готовки</b></button>
<button id="ex12-getMultiple">Выбрать <b>ингридиенты</b></button>
<button id="ex12-getCheckbox">Аккуратно?</button>
<button id="ex12-getRadio">Радио</button>
<p><span class="ex12"></span></p>
</div>
<script>
    function cooking_method(){
        return $('.ex12.single-option').val().toLowerCase()
    }
    function cooking_ingridients() {
        let cooking_ingridients=$('.ex12.multiple-option').val();
        (cooking_ingridients.length==2)?cooking_ingridients=cooking_ingridients.join(' и '):cooking_ingridients=cooking_ingridients.join(', ');
        cooking_ingridients=cooking_ingridients.toLowerCase();
        return cooking_ingridients
    }
    function cooking_carefulness() {
        let cooking_carefulness=$('.ex12.checkbox:checked').val()
        if (cooking_carefulness==undefined){
            cooking_carefulness=''
        }
        else {
            cooking_carefulness=cooking_carefulness.toLowerCase()
        }
        return cooking_carefulness
    }
    function cooking_receipt(){
        return $('.ex12.radio:checked').val().toLowerCase()
    }
    function full_receipt() {
        return ["<span style='background: antiquewhite'>"+cooking_method()+"</span>",
            "<span style='background: gold'>"+cooking_ingridients()+"</span>",
            "<span style='background: violet'>"+cooking_carefulness()+"</span>",
            "<span style='background: lightskyblue'>"+cooking_receipt()+"</span>"].join(' ')
    }
    $(function(){
        $('span.ex12').html(full_receipt())
    })

    $('#ex12-getSingle').on('click', function(){
        $('span.ex12').html(full_receipt())
    })
    $('#ex12-getMultiple').on('click', function(){
        $('span.ex12').html(full_receipt())
    })
    $('#ex12-getCheckbox').on('click', function(){
        $('span.ex12').html(full_receipt())
    })
    $('#ex12-getRadio').on('click', function(){
        $('span.ex12').html(full_receipt())
    })
</script>




<script src="../modules/highlight.min.js"></script>
<script src="../scripts/body_scripts.js"></script>
<script src="scripts/ch2.js"></script>
</body>
</html>
